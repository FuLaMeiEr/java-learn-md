{"compress":true,"commitItems":[["b24e607c-4ddd-45f2-803b-e013f26d2ae7",1587107602345,"",[[1587107553380,["Wahaha@DESKTOP-HTU2IVD",[[1,0,"## my"]],[0,0],[5,5]]],[1587107554649,["Wahaha@DESKTOP-HTU2IVD",[[-1,3,"my"]],[5,5],[3,3]]],[1587107556423,["Wahaha@DESKTOP-HTU2IVD",[[1,3,"MysL"]],[3,3],[7,7]]],[1587107557863,["Wahaha@DESKTOP-HTU2IVD",[[-1,0,"## MysL"]],[7,7],[0,0]]],[1587107559096,["Wahaha@DESKTOP-HTU2IVD",[[1,0,"MYS"]],[0,0],[3,3]]],[1587107559884,["Wahaha@DESKTOP-HTU2IVD",[[-1,0,"MYS"]],[3,3],[0,0]]],[1587107565470,["Wahaha@DESKTOP-HTU2IVD",[[1,0,"Mysqlya"]],[0,0],[7,7]]],[1587107566256,["Wahaha@DESKTOP-HTU2IVD",[[-1,5,"ya"]],[7,7],[5,5]]],[1587107567126,["Wahaha@DESKTOP-HTU2IVD",[[1,5,"yac"]],[5,5],[8,8]]],[1587107567883,["Wahaha@DESKTOP-HTU2IVD",[[-1,5,"yac"]],[8,8],[5,5]]],[1587107569654,["Wahaha@DESKTOP-HTU2IVD",[[1,5,"压成"]],[5,5],[7,7]]],[1587107570596,["Wahaha@DESKTOP-HTU2IVD",[[-1,5,"压成"]],[7,7],[5,5]]],[1587107572384,["Wahaha@DESKTOP-HTU2IVD",[[1,5,"压测"]],[5,5],[7,7]]],[1587107572788,["Wahaha@DESKTOP-HTU2IVD",[[1,7,"\n\n"]],[7,7],[8,8]]],[1587107573701,["Wahaha@DESKTOP-HTU2IVD",[[-1,8,"\n"],[1,9,"@"]],[8,8],[9,9]]],[1587107573977,["Wahaha@DESKTOP-HTU2IVD",[[1,9,"@"]],[9,9],[10,10]]],[1587107574412,["Wahaha@DESKTOP-HTU2IVD",[[-1,9,"@"]],[10,10],[9,9]]],[1587107574648,["Wahaha@DESKTOP-HTU2IVD",[[-1,8,"@"],[1,9,"\n"]],[9,9],[8,8]]],[1587107575011,["Wahaha@DESKTOP-HTU2IVD",[[-1,8,"\n"],[1,9,"#"]],[8,8],[9,9]]],[1587107575527,["Wahaha@DESKTOP-HTU2IVD",[[1,9,"##"]],[9,9],[11,11]]],[1587107576418,["Wahaha@DESKTOP-HTU2IVD",[[-1,9,"##"]],[11,11],[9,9]]],[1587107576607,["Wahaha@DESKTOP-HTU2IVD",[[-1,8,"#"],[1,9,"\n"]],[9,9],[8,8]]],[1587107577870,["Wahaha@DESKTOP-HTU2IVD",[[1,9,"\n"]],[8,8],[9,9]]],[1587107579714,["Wahaha@DESKTOP-HTU2IVD",[[-1,9,"\n"],[1,10,"库"]],[9,9],[10,10]]],[1587107581372,["Wahaha@DESKTOP-HTU2IVD",[[1,10,"："]],[10,10],[11,11]]],[1587107581727,["Wahaha@DESKTOP-HTU2IVD",[[1,11,"\n\n"]],[11,11],[12,12]]],[1587107582432,["Wahaha@DESKTOP-HTU2IVD",[[1,12,"hwc1.kluster.xyz\nhwc2.kluster.xyz\nhwc3.kluster.xyz\n\n用户名root密码1357924680"]],[12,12],[83,83]]],[1587107595631,["Wahaha@DESKTOP-HTU2IVD",[[1,84,"\n"]],[83,83],[84,84]]],[1587107595832,["Wahaha@DESKTOP-HTU2IVD",[[1,85,"\n"]],[84,84],[85,85]]],[1587107596019,["Wahaha@DESKTOP-HTU2IVD",[[1,86,"\n"]],[85,85],[86,86]]],[1587107596207,["Wahaha@DESKTOP-HTU2IVD",[[1,87,"\n"]],[86,86],[87,87]]],[1587107598009,["Wahaha@DESKTOP-HTU2IVD",[[-1,87,"\n"],[1,88,"。"]],[87,87],[88,88]]],[1587107598734,["Wahaha@DESKTOP-HTU2IVD",[[-1,87,"。"],[1,88,"\n"]],[88,88],[87,87]]],[1587107599941,["Wahaha@DESKTOP-HTU2IVD",[[-1,87,"\n"],[1,88,"M"]],[87,87],[88,88]]],[1587107600693,["Wahaha@DESKTOP-HTU2IVD",[[1,88,"Y"]],[88,88],[89,89]]],[1587107602979,["Wahaha@DESKTOP-HTU2IVD",[[1,88,"Y"]],[88,88],[89,89]]],[1587107603752,["Wahaha@DESKTOP-HTU2IVD",[[-1,88,"Y"]],[89,89],[88,88]]],[1587107604793,["Wahaha@DESKTOP-HTU2IVD",[[1,88,"yS"]],[88,88],[90,90]]],[1587107605649,["Wahaha@DESKTOP-HTU2IVD",[[-1,89,"S"]],[90,90],[89,89]]],[1587107606160,["Wahaha@DESKTOP-HTU2IVD",[[1,89,"sl"]],[89,89],[91,91]]],[1587107606729,["Wahaha@DESKTOP-HTU2IVD",[[-1,90,"l"]],[91,91],[90,90]]],[1587107614194,["Wahaha@DESKTOP-HTU2IVD",[[1,90,"qlSlap测试工具"]],[90,90],[100,100]]],[1587107616586,["Wahaha@DESKTOP-HTU2IVD",[[-1,98,"工具"]],[100,100],[98,98]]],[1587107617264,["Wahaha@DESKTOP-HTU2IVD",[[1,98,"\n\n"]],[98,98],[99,99]]],[1587107721303,[null,[[-1,100,"Y"]],[100,100],[100,100]]],[1587107721303,[null,[[1,100,"Y"]],[100,100],[100,100]]],[1587107693705,["Wahaha@DESKTOP-HTU2IVD",[[-1,99,"\n"],[1,100,"【"]],[99,99],[100,100]]],[1587107693918,["Wahaha@DESKTOP-HTU2IVD",[[1,100,"】"]],[100,100],[101,101]]],[1587107694470,["Wahaha@DESKTOP-HTU2IVD",[[-1,100,"】"]],[101,101],[100,100]]],[1587107694902,["Wahaha@DESKTOP-HTU2IVD",[[-1,99,"【"],[1,100,"\n"]],[100,100],[99,99]]],[1587107695557,["Wahaha@DESKTOP-HTU2IVD",[[-1,99,"\n"],[1,100,"["]],[99,99],[100,100]]],[1587107695752,["Wahaha@DESKTOP-HTU2IVD",[[1,100,"]"]],[100,100],[101,101]]],[1587107698755,["Wahaha@DESKTOP-HTU2IVD",[[1,100,"mY"]],[100,100],[102,102]]],[1587107699671,["Wahaha@DESKTOP-HTU2IVD",[[-1,100,"mY"]],[102,102],[100,100]]],[1587107706209,["Wahaha@DESKTOP-HTU2IVD",[[1,100,"mysqlslap使用"]],[100,100],[111,111]]],[1587107709068,["Wahaha@DESKTOP-HTU2IVD",[[1,112,"（）"]],[112,112],[114,114]]],[1587107709879,["Wahaha@DESKTOP-HTU2IVD",[[-1,112,"（）"]],[114,114],[112,112]]],[1587107711021,["Wahaha@DESKTOP-HTU2IVD",[[1,112,"("]],[112,112],[113,113]]],[1587107711044,["Wahaha@DESKTOP-HTU2IVD",[[1,113,"https://)"]],[113,113],[113,121]]],[1587107711235,["Wahaha@DESKTOP-HTU2IVD",[[-1,113,"https://"],[1,121,")"]],[113,121],[114,114]]],[1587107712457,["Wahaha@DESKTOP-HTU2IVD",[[-1,114,")"]],[114,114],[113,113]]],[1587107712991,["Wahaha@DESKTOP-HTU2IVD",[[1,113,"[https://my.oschina.net/moooofly/blog/152547](https://my.oschina.net/moooofly/blog/152547)"]],[113,113],[203,203]]],[1587107781304,[null,[[-1,204,"Y"]],[204,204],[204,204]]],[1587107781304,[null,[[1,204,"Y"]],[204,204],[204,204]]],[1587107729719,["Wahaha@DESKTOP-HTU2IVD",[[-1,99,"[mysqlslap使用]("]],[99,112],[99,99]]],[1587107731834,["Wahaha@DESKTOP-HTU2IVD",[[-1,189,")"]],[190,190],[189,189]]],[1587107745133,["Wahaha@DESKTOP-HTU2IVD",[[-1,100,"https://my.oschina.net/moooofly/blog/152547"]],[100,142],[100,100]]],[1587107753528,["Wahaha@DESKTOP-HTU2IVD",[[1,100,"mysqlslq"]],[100,100],[108,108]]],[1587107754330,["Wahaha@DESKTOP-HTU2IVD",[[-1,107,"q"]],[108,108],[107,107]]],[1587107757851,["Wahaha@DESKTOP-HTU2IVD",[[1,107,"ap使用教程"]],[107,107],[113,113]]],[1587109476404,[null,[[-1,159,"Y"]],[159,159],[159,159]]],[1587109476404,[null,[[1,159,"Y"]],[159,159],[159,159]]],[1587109453880,["Wahaha@DESKTOP-HTU2IVD",[[1,9,"### "]],[9,9],[13,13]]],[1587109459958,["Wahaha@DESKTOP-HTU2IVD",[[1,91,"#### "]],[91,91],[96,96]]],[1587109465975,["Wahaha@DESKTOP-HTU2IVD",[[-1,94,"# "]],[96,96],[94,94]]],[1587109466524,["Wahaha@DESKTOP-HTU2IVD",[[1,94," "]],[94,94],[95,95]]],[1587109470421,["Wahaha@DESKTOP-HTU2IVD",[[1,167,"\n\n"]],[167,167],[168,168]]],[1587109471012,["Wahaha@DESKTOP-HTU2IVD",[[1,169,"\n"]],[168,168],[169,169]]],[1587109471421,["Wahaha@DESKTOP-HTU2IVD",[[-1,169,"\n"],[1,170,"@"]],[169,169],[170,170]]],[1587109471688,["Wahaha@DESKTOP-HTU2IVD",[[1,170,"@"]],[170,170],[171,171]]],[1587109472074,["Wahaha@DESKTOP-HTU2IVD",[[-1,170,"@"]],[171,171],[170,170]]],[1587109472284,["Wahaha@DESKTOP-HTU2IVD",[[-1,169,"@"],[1,170,"\n"]],[170,170],[169,169]]],[1587109472654,["Wahaha@DESKTOP-HTU2IVD",[[-1,169,"\n"],[1,170,"#"]],[169,169],[170,170]]],[1587109474643,["Wahaha@DESKTOP-HTU2IVD",[[1,170,"## ce"]],[170,170],[175,175]]],[1587109475272,["Wahaha@DESKTOP-HTU2IVD",[[-1,173,"ce"]],[175,175],[173,173]]],[1587109476052,["Wahaha@DESKTOP-HTU2IVD",[[1,173,"cehs"]],[173,173],[177,177]]],[1587109536404,[null,[[-1,177,"Y"]],[177,177],[177,177]]],[1587109536404,[null,[[1,177,"Y"]],[177,177],[177,177]]],[1587109477064,["Wahaha@DESKTOP-HTU2IVD",[[-1,173,"cehs"]],[177,177],[173,173]]],[1587109479602,["Wahaha@DESKTOP-HTU2IVD",[[1,173,"测试流程"]],[173,173],[177,177]]],[1587109480522,["Wahaha@DESKTOP-HTU2IVD",[[1,177,"\n\n"]],[177,177],[178,178]]],[1587109491864,["Wahaha@DESKTOP-HTU2IVD",[[1,178,"1.  建立测试数据库database和待测试的表tables\n2.  根据table的结构，利用脚本生成一定数量的有效随机数据\n3.  利用mysqlslap对相应query语句进行测试\n4.  结果数据的分析。"]],[178,178],[285,285]]],[1587113199408,[null,[[-1,286,"Y"]],[286,286],[286,286]]],[1587113199408,[null,[[1,286,"Y"]],[286,286],[286,286]]],[1587113163979,["Wahaha@DESKTOP-HTU2IVD",[[-1,169,"### 测试流程\n1.  建立测试数据库database和待测试的表tables\n2.  根据table的结构，利用脚本生成一定数量的有效随机数据\n3.  利用mysqlslap对相应query语句进行测试\n4.  结果数据的分析。"]],[169,285],[169,169]]],[1587113165026,["Wahaha@DESKTOP-HTU2IVD",[[1,89,"### 测试流程\n1.  建立测试数据库database和待测试的表tables\n2.  根据table的结构，利用脚本生成一定数量的有效随机数据\n3.  利用mysqlslap对相应query语句进行测试\n4.  结果数据的分析。"]],[89,89],[205,205]]],[1587113170322,["Wahaha@DESKTOP-HTU2IVD",[[-1,89,"### 测试流程\n1.  建立测试数据库database和待测试的表tables\n2.  根据table的结构，利用脚本生成一定数量的有效随机数据\n3.  利用mysqlslap对相应query语句进行测试\n4.  结果数据的分析。"]],[89,205],[89,89]]],[1587113171524,["Wahaha@DESKTOP-HTU2IVD",[[1,169,"### 测试流程\n1.  建立测试数据库database和待测试的表tables\n2.  根据table的结构，利用脚本生成一定数量的有效随机数据\n3.  利用mysqlslap对相应query语句进行测试\n4.  结果数据的分析。"]],[169,169],[285,285]]],[1587113174571,["Wahaha@DESKTOP-HTU2IVD",[[1,173,"# "]],[173,173],[175,175]]],[1587113177050,["Wahaha@DESKTOP-HTU2IVD",[[-1,172," "]],[173,173],[172,172]]],[1587113183993,["Wahaha@DESKTOP-HTU2IVD",[[-1,285,"。"],[1,286,"\n"]],[285,286],[286,286]]],[1587113184473,["Wahaha@DESKTOP-HTU2IVD",[[1,287,"\n"]],[286,286],[287,287]]],[1587113184658,["Wahaha@DESKTOP-HTU2IVD",[[1,288,"\n"]],[287,287],[288,288]]],[1587113185163,["Wahaha@DESKTOP-HTU2IVD",[[-1,288,"\n"],[1,289,"@"]],[288,288],[289,289]]],[1587113185729,["Wahaha@DESKTOP-HTU2IVD",[[-1,288,"@"],[1,289,"\n"]],[289,289],[288,288]]],[1587113186003,["Wahaha@DESKTOP-HTU2IVD",[[-1,288,"\n"],[1,289,"#"]],[288,288],[289,289]]],[1587113193817,["Wahaha@DESKTOP-HTU2IVD",[[1,289,"## jmeterCESHI"]],[289,289],[303,303]]],[1587113194927,["Wahaha@DESKTOP-HTU2IVD",[[-1,298,"CESHI"]],[303,303],[298,298]]],[1587113196496,["Wahaha@DESKTOP-HTU2IVD",[[1,298,"测试"]],[298,298],[300,300]]],[1587113196929,["Wahaha@DESKTOP-HTU2IVD",[[1,300,"\n\n"]],[300,300],[301,301]]],[1587113197879,["Wahaha@DESKTOP-HTU2IVD",[[1,301,"  "]],[301,301],[303,303]]],[1587113619415,[null,[[-1,304,"Y"]],[304,304],[304,304]]],[1587113619415,[null,[[1,304,"Y"]],[304,304],[304,304]]],[1587113561203,["Wahaha@DESKTOP-HTU2IVD",[[-1,5,"压测"]],[7,7],[5,5]]],[1587113566142,["Wahaha@DESKTOP-HTU2IVD",[[1,7,"\n"]],[6,6],[7,7]]],[1587113566941,["Wahaha@DESKTOP-HTU2IVD",[[1,7,"@@"]],[7,7],[9,9]]],[1587113567550,["Wahaha@DESKTOP-HTU2IVD",[[-1,7,"@@"]],[9,9],[7,7]]],[1587113573639,["Wahaha@DESKTOP-HTU2IVD",[[1,7,"## mysql压测"]],[7,7],[17,17]]],[1587113580381,["Wahaha@DESKTOP-HTU2IVD",[[-1,310,"  "],[1,312,"\n"]],[310,310],[311,311]]],[1587113580616,["Wahaha@DESKTOP-HTU2IVD",[[1,312,"\n"]],[311,311],[312,312]]],[1587113580805,["Wahaha@DESKTOP-HTU2IVD",[[1,313,"\n"]],[312,312],[313,313]]],[1587113580985,["Wahaha@DESKTOP-HTU2IVD",[[1,314,"\n"]],[313,313],[314,314]]],[1587113581150,["Wahaha@DESKTOP-HTU2IVD",[[1,315,"\n"]],[314,314],[315,315]]],[1587113581332,["Wahaha@DESKTOP-HTU2IVD",[[1,316,"\n"]],[315,315],[316,316]]],[1587113583229,["Wahaha@DESKTOP-HTU2IVD",[[-1,316,"\n"],[1,317,"#"]],[316,316],[317,317]]],[1587113583739,["Wahaha@DESKTOP-HTU2IVD",[[1,317,"##"]],[317,317],[319,319]]],[1587113588351,["Wahaha@DESKTOP-HTU2IVD",[[-1,318,"#"]],[319,319],[318,318]]],[1587113597774,["Wahaha@DESKTOP-HTU2IVD",[[1,318," mysql相关值"]],[318,318],[327,327]]],[1587113598990,["Wahaha@DESKTOP-HTU2IVD",[[-1,326,"值"]],[327,327],[326,326]]],[1587113601106,["Wahaha@DESKTOP-HTU2IVD",[[1,326,"只是"]],[326,326],[328,328]]],[1587113602392,["Wahaha@DESKTOP-HTU2IVD",[[-1,326,"只是"]],[328,328],[326,326]]],[1587113603429,["Wahaha@DESKTOP-HTU2IVD",[[1,326,"只是"]],[326,326],[328,328]]],[1587113604179,["Wahaha@DESKTOP-HTU2IVD",[[-1,326,"只是"]],[328,328],[326,326]]],[1587113605680,["Wahaha@DESKTOP-HTU2IVD",[[1,326,"知识"]],[326,326],[328,328]]],[1587113679416,[null,[[-1,328,"Y"]],[328,328],[328,328]]],[1587113679416,[null,[[1,328,"Y"]],[328,328],[328,328]]],[1587113620075,["Wahaha@DESKTOP-HTU2IVD",[[1,328,"\n\n"]],[328,328],[329,329]]],[1587113620524,["Wahaha@DESKTOP-HTU2IVD",[[1,330,"\n"]],[329,329],[330,330]]],[1587113620752,["Wahaha@DESKTOP-HTU2IVD",[[1,331,"\n"]],[330,330],[331,331]]],[1587113620954,["Wahaha@DESKTOP-HTU2IVD",[[1,332,"\n"]],[331,331],[332,332]]],[1587113621130,["Wahaha@DESKTOP-HTU2IVD",[[1,333,"\n"]],[332,332],[333,333]]],[1587113621278,["Wahaha@DESKTOP-HTU2IVD",[[1,334,"\n"]],[333,333],[334,334]]],[1587113621455,["Wahaha@DESKTOP-HTU2IVD",[[1,335,"\n"]],[334,334],[335,335]]],[1587113623829,["Wahaha@DESKTOP-HTU2IVD",[[1,329,"一、MySql 日志\n\n[https://www.cnblogs.com/f-ck-need-u/p/9001061.html](https://www.cnblogs.com/f-ck-need-u/p/9001061.html#auto_id_2)\n\n1.查询日志\n\n查询日志分为一般查询日志和慢查询日志，通过查询变量long_query_time的值进行判断，在超时时间内完成的查询是一般查询，默认是关闭的（建议关闭）。\n\ngeneral_log = {0|1} 开启或关闭查询日志\n\ngeneral_log_file = file_name 指定文件查询日志路径 默认hostname.err\n\nlog_output = {TABLE|FILE|NONE}   定义一般查询日志和慢查询日志的输出格式，不指定时默认为file\n\n2.慢查询日志\n\nlog_slow_queries = {yes|no}    #是否启用慢查询日志，默认不启用\n\nslow_query_log = {1|ON|0|OFF}   也是是否启用慢查询日志，此变量和log_slow_queries修改一个另一个同时变化\n\nslow_query_log_file=/mydata/data/hostname-slow.log  默认路径为库文件目录下主机名加上-slow.log\n\n3.错误日志\n\n记录MeriaDB/mysql 服务启动和停止正确和错误的信息，还记录mysql实例运行过程中的发生错误的时间信息\n\nlog_error = filename 指定错误日志保存文件 默认的错误文件日志datadir下面的hostname.err 文件\n\n4.二进制日志\n\n记录引起或者可能引起数据库改变的事件信息。语句以事件形式保存，包括时间，事件开始位置，结束位置等信息\n\n--log-bin = [on|off|file_name] 启用二进制日志\n\nmysqlbinlog --start-datatime\"\" --stop-datatime 查看某一时间段的日志\n\nshow binlog events 查看日志进行了那些操作\n\nreset master 删除二进制日志\n\nPURGE { BINARY | MASTER } LOGS { TO 'log_name' | BEFORE datetime_expr } 删除指定时间之前的日志\n\n二进制日志记录格式：\n\nbinlog_format:指定那种形式记录\n\nstatement 所有操作记录为sql形式记录，缺点动态数据无法同步\n\nrow 相关行的每一列操作记录记录下去缺点日志文件较大\n\nmixed 记录日志有mysql决定\n\n5.中继日志\n\n将主服务的二进制日志复制到到从服务器的本地文件中，然后sql线程读取relay-log日志到从服务器，从而使主服务器和从服务器保持一致\n\n二、MySql事务\n\n事务的四大特性：\n\n原子性: 事务内的操作要吗全部成功要么全部失败\n\n一致性: 事务操作前后，数据的完整性处于一致性状态\n\n持久性: 事务一旦提交，那么对数据库数据的修改就是永久的\n\n隔离性: 多个用户并发访问数据库时，其中一个事务的操作不会影响到另一个事务的操作。\n\n事务隔离级别：\n\nserializable:串行化 避免脏读、幻读、不可重复读\n\nrepeatable read（mysql默认事务隔离级别）:可重复读 避免 脏读、 幻读\n\nread commited : 读已提交 避免 脏读\n\nread uncomnited: 读未提交 什么都避免不了\n\n事务并发处理可能会发生的问题：\n\n脏读：一个事务读取了另一个事务修改了但并未提交的数据\n\n不可重复读: 一个事务读取了另一个事务修改并提交的数据\n\n幻读: 一个事务两次读取的结果不同\n\n事务传播特性：\n\n* 保证同一个事务中\n\nPROPAGATION_REQUIRED 支持当前事务，如果不存在 就新建一个(默认)\n\nPROPAGATION_SUPPORTS 支持当前事务，如果不存在，就不使用事务\n\nPROPAGATION_MANDATORY 支持当前事务，如果不存在，抛出异常\n\n* 保证没有在同一个事务中\n\nPROPAGATION_REQUIRES_NEW 如果有事务存在，挂起当前事务，创建一个新的事务\n\nPROPAGATION_NOT_SUPPORTED 以非事务方式运行，如果有事务存在，挂起当前事务\n\nPROPAGATION_NEVER 以非事务方式运行，如果有事务存在，抛出异常\n\nPROPAGATION_NESTED 如果当前事务存在，则嵌套事务执行\n\nMysql索引\n\nmysql索引的4种类型\n\n逻辑索引:\n\n普通索引：\n\n基本数据库索引，没有任何限制\n\ncreate index indexname on mytable(username)\n\ndrop index indexname on mytable\n\n唯一索引:\n\n索引列的值必须为唯一，允许有null值，如果是组合索引，则列值的组合必须唯一\n\ncreate unique index index on mytble(username)\n\n主键索引：\n\n特殊索引，一个表只能有一个主键，不允许有null值，一般建表时创建\n\n组合索引：\n\ncreate index a_b_c on mytable(a,b,c)\n\n减少开销: 假如对a、b、c创建组合索引，相当于创建了a,b,c3个索引\n\n覆盖索引: 假设select a ,b ,c 3个字段，由于查询字段在索引页中，可以从索引页中直接获取，不需要回表查询\n\n效率高: 对于a,b,c三列分别创建索引，mysql进行查询时只会选择辨识度高的作为索引。假设100w条数据，一个索引100*10%=10w的数据，组合索引100*10%*10%*10%=0.1 1000条数据\n\n物理索引:\n\n聚集索引:\n\n该索引中键值的逻辑顺序决定表中相应行的物理顺序，由于聚集索引规定数据在表中的物理存储顺序，因此一个表只能包含一个聚集索引，对经常搜索的范围列比较有效\n\n创建聚集索引：mysql中默认主键就是聚集索引\n\n聚集索引结构：索引的叶子节点就相当于数据节点\n\n![](F:\\Youdao Note\\qqCF470C119BD3A5BA535BEC5DEC86B157\\5fae393f17cb4ed4bfbfeb05494e2971\\clipboard.png)\n\n非聚集索引：\n\n非聚集索引则就是普通索引了，仅仅只是对数据列创建相应的索引，不影响整个表的物理存储顺序。\n\n非聚集索引的叶子节点的还是索引节点\n\n![](F:\\Youdao Note\\qqCF470C119BD3A5BA535BEC5DEC86B157\\e2b25717c37647459b7857a1cb10266c\\clipboard.png)\n\n索引的优缺点及使用场景:\n\n索引的创建:\n\n1.建在经常查询的列上，提高查询速度\n\n2.建在主键列上 强制该列的唯一性和组织表中数据的排列结构\n\n3.建在外键列上，提高连接查询速度\n\n4.建在查询范围的列上(分组列)，建好索引后默认排好序(升序)，指定范围是连续的\n\n5\\. 排序列\n\n6\\. 条件列\n\n索引的优点：\n\n1.通过创建唯一索引，保证数据库表每一行数据的唯一性\n\n2.大大加快数据的检索效率\n\n3.加速表与表之间的连接\n\n4.分组排序列进行检索是时，显著减少检索时间\n\n5.通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。\n\n索引的缺点：\n\n1.创建索引和维护索引需要时间，这种时间随数据量增加而增加\n\n2.索引占用物理空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果要建立聚集索引那么需要的空间就会更大。\n\n3.对数据表数据进行增删改时，索引需要动态维护，降低动态维护数据的速度\n\nMySql数据库引擎\n\n[https://www.jb51.net/article/38004.htm](https://www.jb51.net/article/38004.htm)\n\n数据库引擎类型：\n\nMyISAM: 不支持事务和行级锁。所以查询速度很快，性能优秀。可以对整张表加锁，支持并发插入，支持全文索引\n\nInnoDB: 支持事务，行级锁，以及外键，拥有高并发处理能力。但是在创建索引和加载数据时，比MyISAM慢。(MySql默认数据库引擎)\n\nMEMORY:支持Hash索引，内存表，Memory引擎将数据存储在内存中，表结构不是存储在内存中的，查询时不需要执行磁盘I/O操作，所以要比MyISAM和InnoDB快很多倍，但是数据库断电或是重启后，表中的数据将会丢失，表结构不会丢失。\n\n查看数据库支持的引擎:\n\n查看mysql已提供哪些引擎\n\nmysql> show engines\n\n看你的mysql当前默认的引擎:\n\nmysql> show variables like '%storage_engines%'\n\n你要看某个表用了什么引擎:\n\nmysql> show create table 表名;\n\n切换数据库引擎:\n\n1.create table table{} engine = innodb\n\n2.修改my.ini文件\n\ndefault-storage-engine = innodb\n\n3.alert tablename engine = innodb\n\n数据库表设计原则:\n\n数据库表设计三大范式:\n\n[https://blog.csdn.net/u014458048/article/details/56678698](https://blog.csdn.net/u014458048/article/details/56678698)\n\n第一范式:列不可再分\n\n所用表的字段都是不可再分，例如字段属性‘地址’，如果经常访问的话就需要拆成‘省’，‘城市’，‘县’。\n\n第二范式:每列和主键相关 主键关系\n\n确保数据库中的每一列都和主键相关而不是一部分相关\n\n例如：商品表 订单表 订单表中包含有商品数据，这样设计不符合第二范式，需要再加一个联合主键表 商品_订单表 多对多关系 需要三张表\n\n一个表只保存一种类型的数据，不可以把多种数据保存到一张表中\n\n第三范式:每列和主键有直接关系 外键关系\n\n确保数据库表每一列与主键直接相关而不是间接相关\n\n例如：用户 订单 订单表加外键对应用户 一对多关系"]],[329,329],[4695,4695]]],[1587113645168,["Wahaha@DESKTOP-HTU2IVD",[[-1,329,"一、"],[1,331,"#"],[-1,661,"  "],[1,663,"  "],[-1,733,"    "],[1,737,"    "],[-1,784,"  "],[1,786,"  "],[-1,882,"  "],[1,884,"  "]],[329,329],[330,330]]],[1587113646179,["Wahaha@DESKTOP-HTU2IVD",[[1,330,"## "]],[330,330],[333,333]]],[1587113668214,["Wahaha@DESKTOP-HTU2IVD",[[1,459,"  "],[1,466,"  "],[1,467,"  "],[1,545,"  "],[1,546,"  "],[1,576,"  "],[1,577,"  "],[1,632,"  "],[1,633,"  "],[1,698,"  "],[1,699,"  "],[1,707,"  "],[1,708,"  "],[1,756,"  "],[1,757,"  "],[1,833,"  "],[1,834,"  "],[1,912,"  "],[1,913,"  "],[1,920,"  "],[1,921,"  "],[1,979,"  "],[1,980,"  "],[1,1047,"  "],[1,1048,"  "],[1,1056,"  "],[1,1057,"  "],[1,1108,"  "],[1,1109,"  "],[1,1148,"  "],[1,1149,"  "],[1,1207,"  "],[1,1208,"  "],[1,1239,"  "],[1,1240,"  "],[1,1261,"  "],[1,1262,"  "],[1,1346,"  "],[1,1347,"  "],[1,1358,"  "],[1,1359,"  "],[1,1382,"  "],[1,1383,"  "],[1,1419,"  "],[1,1420,"  "],[1,1448,"  "],[1,1449,"  "],[1,1468,"  "],[1,1469,"  "],[1,1476,"  "],[1,1477,"  "]],[459,1544],[459,1646]]],[1587113672613,["Wahaha@DESKTOP-HTU2IVD",[[1,463," "]],[463,463],[464,464]]],[1587113675731,["Wahaha@DESKTOP-HTU2IVD",[[1,724," "]],[724,724],[725,725]]],[1587113677699,["Wahaha@DESKTOP-HTU2IVD",[[1,955," "]],[955,955],[956,956]]],[1587113739435,[null,[[-1,4809,"Y"]],[4809,4809],[4809,4809]]],[1587113739435,[null,[[1,4809,"Y"]],[4809,4809],[4809,4809]]],[1587113680747,["Wahaha@DESKTOP-HTU2IVD",[[1,1103," "]],[1103,1103],[1104,1104]]],[1587113685397,["Wahaha@DESKTOP-HTU2IVD",[[1,1573," "]],[1573,1573],[1574,1574]]],[1587113697516,["Wahaha@DESKTOP-HTU2IVD",[[-1,1653,"二"],[1,1654,"#"]],[1653,1653],[1654,1654]]],[1587113698019,["Wahaha@DESKTOP-HTU2IVD",[[1,1654,"##"]],[1654,1654],[1656,1656]]],[1587113699456,["Wahaha@DESKTOP-HTU2IVD",[[-1,1656,"、"]],[1656,1656],[1656,1656]]],[1587113699650,["Wahaha@DESKTOP-HTU2IVD",[[1,1656," "]],[1656,1656],[1657,1657]]],[1587113707707,["Wahaha@DESKTOP-HTU2IVD",[[1,1666,"1. "]],[1666,1666],[1669,1669]]],[1587113710143,["Wahaha@DESKTOP-HTU2IVD",[[1,1804,"2. "]],[1804,1804],[1807,1807]]],[1587113713799,["Wahaha@DESKTOP-HTU2IVD",[[-1,1665,"\n"]],[1665,1665],[1664,1664]]],[1587113723041,["Wahaha@DESKTOP-HTU2IVD",[[1,2046,"3. "]],[2046,2046],[2049,2049]]],[1587113727907,["Wahaha@DESKTOP-HTU2IVD",[[1,2392,"### "]],[2392,2392],[2396,2396]]],[1587113732284,["Wahaha@DESKTOP-HTU2IVD",[[1,2405,"1. "]],[2405,2405],[2408,2408]]],[1587113799437,[null,[[-1,4828,"Y"]],[4828,4828],[4828,4828]]],[1587113799437,[null,[[1,4828,"Y"]],[4828,4828],[4828,4828]]],[1587113783397,["Wahaha@DESKTOP-HTU2IVD",[[1,2058,"  "],[1,2069,"  "],[1,2070,"  "],[1,2114,"  "],[1,2115,"  "],[1,2156,"  "],[1,2157,"  "],[1,2197,"  "],[1,2198,"  "],[1,2212,"  "],[1,2213,"  "],[1,2262,"  "],[1,2263,"  "],[1,2313,"  "],[1,2314,"  "],[1,2354,"  "],[1,2355,"  "]],[2058,2391],[2058,2425]]],[1587113791129,["Wahaha@DESKTOP-HTU2IVD",[[-1,2057,"\n"]],[2057,2057],[2056,2056]]],[1587113794264,["Wahaha@DESKTOP-HTU2IVD",[[-1,2070,"  "]],[2072,2072],[2070,2070]]],[1587113794543,["Wahaha@DESKTOP-HTU2IVD",[[-1,2070,"\n"]],[2070,2070],[2069,2069]]],[1587113794821,["Wahaha@DESKTOP-HTU2IVD",[[-1,2068,"中"]],[2069,2069],[2068,2068]]],[1587113796138,["Wahaha@DESKTOP-HTU2IVD",[[1,2068,"中"]],[2068,2068],[2069,2069]]],[1587113798854,["Wahaha@DESKTOP-HTU2IVD",[[-1,2226,"  "]],[2228,2228],[2226,2226]]],[1587113799276,["Wahaha@DESKTOP-HTU2IVD",[[-1,2226,"\n"]],[2226,2226],[2225,2225]]],[1587113859443,[null,[[-1,4855,"Y"]],[4855,4855],[4855,4855]]],[1587113859443,[null,[[1,4855,"Y"]],[4855,4855],[4855,4855]]],[1587113802162,["Wahaha@DESKTOP-HTU2IVD",[[-1,2207,"  "]],[2207,2209],[2207,2207]]],[1587113803179,["Wahaha@DESKTOP-HTU2IVD",[[-1,2207,"\n"]],[2207,2207],[2206,2206]]],[1587113804669,["Wahaha@DESKTOP-HTU2IVD",[[1,2207,"\n"]],[2206,2206],[2207,2207]]],[1587113804999,["Wahaha@DESKTOP-HTU2IVD",[[1,2207,"  "]],[2207,2207],[2207,2209]]],[1587113805735,["Wahaha@DESKTOP-HTU2IVD",[[1,2226,"\n"]],[2225,2225],[2226,2226]]],[1587113816823,["Wahaha@DESKTOP-HTU2IVD",[[1,2072,"* \n  "]],[2069,2069],[2074,2074]]],[1587113820519,["Wahaha@DESKTOP-HTU2IVD",[[-1,2071," * "]],[2074,2074],[2071,2071]]],[1587113823114,["Wahaha@DESKTOP-HTU2IVD",[[1,2057,"4. \n"]],[2056,2056],[2060,2060]]],[1587113825050,["Wahaha@DESKTOP-HTU2IVD",[[-1,2057,"4. "]],[2060,2060],[2057,2057]]],[1587113843821,["Wahaha@DESKTOP-HTU2IVD",[[-1,3270,"Youdao "]],[3270,3276],[3270,3270]]],[1587113848563,["Wahaha@DESKTOP-HTU2IVD",[[-1,3094,"Youdao "]],[3094,3101],[3094,3094]]],[1587113884406,[null,[[-1,4845,"Y"]],[4845,4845],[4845,4845]]],[1587113884406,[null,[[1,4845,"Y"]],[4845,4845],[4845,4845]]],[1587113860699,["Wahaha@DESKTOP-HTU2IVD",[[-1,3088,"["]],[3089,3089],[3088,3088]]],[1587113873033,["Wahaha@DESKTOP-HTU2IVD",[[1,3088,"[聚集索引"]],[3088,3088],[3093,3093]]],[1587113877791,["Wahaha@DESKTOP-HTU2IVD",[[1,3262,"索引"]],[3262,3262],[3264,3264]]],[1587113883647,["Wahaha@DESKTOP-HTU2IVD",[[1,3262,"非聚集"]],[3262,3262],[3265,3265]]],[1587113944413,[null,[[-1,4854,"Y"]],[4854,4854],[4854,4854]]],[1587113944413,[null,[[1,4854,"Y"]],[4854,4854],[4854,4854]]],[1587113894235,["Wahaha@DESKTOP-HTU2IVD",[[1,3361,"2. "]],[3361,3361],[3364,3364]]],[1587113910212,["Wahaha@DESKTOP-HTU2IVD",[[1,3386,"  "],[1,3405,"  "],[1,3406,"  "],[1,3436,"  "],[1,3437,"  "],[1,3455,"  "],[1,3456,"  "],[1,3497,"  "],[1,3498,"  "],[1,3506,"  "],[1,3507,"  "]],[3386,3515],[3386,3537]]],[1587113913350,["Wahaha@DESKTOP-HTU2IVD",[[1,3390," "]],[3390,3390],[3391,3391]]],[1587113914160,["Wahaha@DESKTOP-HTU2IVD",[[1,3414," "]],[3414,3414],[3415,3415]]],[1587113915305,["Wahaha@DESKTOP-HTU2IVD",[[-1,3414," "]],[3415,3415],[3414,3414]]],[1587113915976,["Wahaha@DESKTOP-HTU2IVD",[[1,3415," "]],[3415,3415],[3416,3416]]],[1587113917571,["Wahaha@DESKTOP-HTU2IVD",[[1,3451," "]],[3451,3451],[3452,3452]]],[1587113918786,["Wahaha@DESKTOP-HTU2IVD",[[1,3475," "]],[3475,3475],[3476,3476]]],[1587113920329,["Wahaha@DESKTOP-HTU2IVD",[[1,3524," "]],[3523,3523],[3524,3524]]],[1587113922552,["Wahaha@DESKTOP-HTU2IVD",[[-1,3521,"\\"]],[3522,3522],[3521,3521]]],[1587113929190,["Wahaha@DESKTOP-HTU2IVD",[[-1,3534,"\\"]],[3535,3535],[3534,3534]]],[1587113933116,["Wahaha@DESKTOP-HTU2IVD",[[-1,3388,"1"],[1,3389,"-"]],[3388,3388],[3389,3389]]],[1587113936838,["Wahaha@DESKTOP-HTU2IVD",[[-1,3389,"."]],[3388,3388],[3389,3389]]],[1587113939823,["Wahaha@DESKTOP-HTU2IVD",[[-1,3412,"2."],[1,3414,"-"]],[3412,3412],[3413,3413]]],[1587113941639,["Wahaha@DESKTOP-HTU2IVD",[[-1,3447,"3."],[1,3449,"-"]],[3447,3447],[3448,3448]]],[1587114004412,[null,[[-1,4879,"Y"]],[4879,4879],[4879,4879]]],[1587114004412,[null,[[1,4879,"Y"]],[4879,4879],[4879,4879]]],[1587113945964,["Wahaha@DESKTOP-HTU2IVD",[[-1,3470,"4."],[1,3472,"-"]],[3470,3470],[3471,3471]]],[1587113948565,["Wahaha@DESKTOP-HTU2IVD",[[-1,3515," 5."],[1,3518,"-"]],[3515,3515],[3516,3516]]],[1587113950817,["Wahaha@DESKTOP-HTU2IVD",[[-1,3527,"6."],[1,3529,"-"]],[3527,3527],[3528,3528]]],[1587113952752,["Wahaha@DESKTOP-HTU2IVD",[[1,3515,"  "]],[3515,3515],[3517,3517]]],[1587113953976,["Wahaha@DESKTOP-HTU2IVD",[[-1,3516," "]],[3517,3517],[3516,3516]]],[1587113959910,["Wahaha@DESKTOP-HTU2IVD",[[1,3378,"+ "]],[3378,3378],[3380,3380]]],[1587113963627,["Wahaha@DESKTOP-HTU2IVD",[[1,3378,"  "]],[3378,3378],[3380,3380]]],[1587113967479,["Wahaha@DESKTOP-HTU2IVD",[[1,3392,"  "],[1,3413,"  "],[1,3414,"  "],[1,3448,"  "],[1,3449,"  "],[1,3469," "],[1,3471," "],[1,3472,"  "],[1,3517,"  "],[1,3518,"  "],[1,3529,"  "],[1,3530,"  "]],[3390,3537],[3390,3559]]],[1587113976363,["Wahaha@DESKTOP-HTU2IVD",[[1,3561,"    "]],[3561,3561],[3565,3565]]],[1587113977566,["Wahaha@DESKTOP-HTU2IVD",[[-1,3564," "]],[3565,3565],[3564,3564]]],[1587113979177,["Wahaha@DESKTOP-HTU2IVD",[[1,3564,"+ "]],[3564,3564],[3566,3566]]],[1587113989781,["Wahaha@DESKTOP-HTU2IVD",[[1,3574,"  "],[1,3601,"  "],[1,3602,"  "],[1,3616,"  "],[1,3617,"  "],[1,3630,"  "],[1,3631,"  "],[1,3654,"  "],[1,3655,"  "]],[3574,3691],[3574,3709]]],[1587113990312,["Wahaha@DESKTOP-HTU2IVD",[[1,3576,"  "],[1,3605,"  "],[1,3606,"  "],[1,3624,"  "],[1,3625," "],[1,3627," "],[1,3642,"  "],[1,3643,"  "],[1,3670,"  "],[1,3671,"  "]],[3574,3709],[3574,3727]]],[1587113994294,["Wahaha@DESKTOP-HTU2IVD",[[-1,3576,"  "],[-1,3607,"  "],[-1,3610,"  "],[-1,3630,"  "],[-1,3633," "],[-1,3636," "],[-1,3652,"  "],[-1,3655,"  "],[-1,3684,"  "],[-1,3687,"  "]],[3574,3727],[3574,3709]]],[1587114000524,["Wahaha@DESKTOP-HTU2IVD",[[-1,3563," "]],[3564,3564],[3563,3563]]],[1587114004228,["Wahaha@DESKTOP-HTU2IVD",[[1,3575,"  "]],[3575,3575],[3577,3577]]],[1587114064419,[null,[[-1,4926,"Y"]],[4926,4926],[4926,4926]]],[1587114064419,[null,[[1,4926,"Y"]],[4926,4926],[4926,4926]]],[1587114009315,["Wahaha@DESKTOP-HTU2IVD",[[-1,3576," 1."]],[3578,3578],[3576,3576]]],[1587114013107,["Wahaha@DESKTOP-HTU2IVD",[[1,3576,"- "]],[3576,3576],[3578,3578]]],[1587114017878,["Wahaha@DESKTOP-HTU2IVD",[[1,3576," "]],[3576,3576],[3577,3577]]],[1587114023458,["Wahaha@DESKTOP-HTU2IVD",[[-1,3609,"2."],[1,3611,"-"]],[3609,3609],[3610,3610]]],[1587114023636,["Wahaha@DESKTOP-HTU2IVD",[[1,3610," "]],[3610,3610],[3611,3611]]],[1587114028085,["Wahaha@DESKTOP-HTU2IVD",[[-1,3628,"3."],[1,3630,"-"]],[3628,3628],[3629,3629]]],[1587114028221,["Wahaha@DESKTOP-HTU2IVD",[[1,3629," "]],[3629,3629],[3630,3630]]],[1587114030820,["Wahaha@DESKTOP-HTU2IVD",[[-1,3646,"4."],[1,3648,"-"]],[3646,3646],[3647,3647]]],[1587114031406,["Wahaha@DESKTOP-HTU2IVD",[[1,3647," "]],[3647,3647],[3648,3648]]],[1587114034680,["Wahaha@DESKTOP-HTU2IVD",[[-1,3673," 5."],[1,3676,"-"]],[3673,3673],[3674,3674]]],[1587114034978,["Wahaha@DESKTOP-HTU2IVD",[[1,3674," "]],[3674,3674],[3675,3675]]],[1587114037316,["Wahaha@DESKTOP-HTU2IVD",[[1,3673," "]],[3673,3673],[3674,3674]]],[1587114040338,["Wahaha@DESKTOP-HTU2IVD",[[1,3609,"  "],[1,3623,"  "],[1,3628,"  "],[1,3641," "],[1,3643," "],[1,3644,"  "],[1,3671,"  "],[1,3672,"  "]],[3607,3710],[3607,3724]]],[1587114055698,["Wahaha@DESKTOP-HTU2IVD",[[1,3725,"  ——"]],[3725,3725],[3729,3729]]],[1587114057035,["Wahaha@DESKTOP-HTU2IVD",[[-1,3727,"——"]],[3729,3729],[3727,3727]]],[1587114058150,["Wahaha@DESKTOP-HTU2IVD",[[1,3727,"+ "]],[3727,3727],[3729,3729]]],[1587114124418,[null,[[-1,4944,"Y"]],[4944,4944],[4944,4944]]],[1587114124418,[null,[[1,4944,"Y"]],[4944,4944],[4944,4944]]],[1587114064541,["Wahaha@DESKTOP-HTU2IVD",[[-1,3737,"1."],[1,3739,"-"]],[3737,3737],[3738,3738]]],[1587114066668,["Wahaha@DESKTOP-HTU2IVD",[[1,3738," "]],[3738,3738],[3739,3739]]],[1587114069113,["Wahaha@DESKTOP-HTU2IVD",[[-1,3768,"2."],[1,3770,"-"]],[3768,3768],[3769,3769]]],[1587114069871,["Wahaha@DESKTOP-HTU2IVD",[[1,3769," "]],[3769,3769],[3770,3770]]],[1587114072748,["Wahaha@DESKTOP-HTU2IVD",[[-1,3831,"3."],[1,3833,"-"]],[3831,3831],[3832,3832]]],[1587114073145,["Wahaha@DESKTOP-HTU2IVD",[[1,3832," "]],[3832,3832],[3833,3833]]],[1587114075007,["Wahaha@DESKTOP-HTU2IVD",[[1,3737,"  "],[1,3767,"  "],[1,3768,"  "],[1,3830,"  "],[1,3831,"  "]],[3737,3867],[3737,3877]]],[1587114076106,["Wahaha@DESKTOP-HTU2IVD",[[1,3739,"  "],[1,3771,"  "],[1,3772,"  "],[1,3838,"  "],[1,3839,"  "]],[3737,3877],[3737,3887]]],[1587114089678,["Wahaha@DESKTOP-HTU2IVD",[[1,3888,"### "]],[3888,3888],[3892,3892]]],[1587114099020,["Wahaha@DESKTOP-HTU2IVD",[[1,3986,"1. "]],[3986,3986],[3989,3989]]],[1587114107129,["Wahaha@DESKTOP-HTU2IVD",[[1,4248,"2. "]],[4248,4248],[4251,4251]]],[1587114116225,["Wahaha@DESKTOP-HTU2IVD",[[1,4544,"### "]],[4544,4544],[4548,4548]]],[1587114184421,[null,[[-1,4978,"Y"]],[4978,4978],[4978,4978]]],[1587114184421,[null,[[1,4978,"Y"]],[4978,4978],[4978,4978]]],[1587114125400,["Wahaha@DESKTOP-HTU2IVD",[[1,3999,"- "]],[3999,3999],[4001,4001]]],[1587114130571,["Wahaha@DESKTOP-HTU2IVD",[[1,4057,"- "]],[4057,4057],[4059,4059]]],[1587114133108,["Wahaha@DESKTOP-HTU2IVD",[[1,4130,"- "]],[4130,4130],[4132,4132]]],[1587114137738,["Wahaha@DESKTOP-HTU2IVD",[[1,3999,"  "],[1,4056,"  "],[1,4057,"  "],[1,4129,"  "],[1,4130,"  "]],[3999,4252],[3999,4262]]],[1587114141910,["Wahaha@DESKTOP-HTU2IVD",[[1,4001,"  "],[1,4060,"  "],[1,4061,"  "],[1,4137,"  "],[1,4138,"  "]],[3999,4263],[3999,4273]]],[1587114150079,["Wahaha@DESKTOP-HTU2IVD",[[1,4290,"- "]],[4290,4290],[4292,4292]]],[1587114152539,["Wahaha@DESKTOP-HTU2IVD",[[1,4329,"- "]],[4329,4329],[4331,4331]]],[1587114156250,["Wahaha@DESKTOP-HTU2IVD",[[1,4397,"- "]],[4397,4397],[4399,4399]]],[1587114159090,["Wahaha@DESKTOP-HTU2IVD",[[1,4444,"- "]],[4444,4444],[4446,4446]]],[1587114161360,["Wahaha@DESKTOP-HTU2IVD",[[1,4496,"- "]],[4496,4496],[4498,4498]]],[1587114168504,["Wahaha@DESKTOP-HTU2IVD",[[-1,4545,"3."]],[4546,4546],[4545,4545]]],[1587114176221,["Wahaha@DESKTOP-HTU2IVD",[[1,4290,"  "],[1,4307,"  "],[1,4308,"  "],[1,4328,"  "],[1,4329,"  "],[1,4348,"  "],[1,4349,"  "],[1,4396,"  "],[1,4397,"  "],[1,4413,"  "],[1,4414,"  "],[1,4443,"  "],[1,4444,"  "],[1,4455,"  "],[1,4456,"  "],[1,4495,"  "],[1,4496,"  "],[1,4511,"  "],[1,4512,"  "],[1,4544,"  "],[1,4545,"  "]],[4290,4576],[4290,4618]]],[1587114177395,["Wahaha@DESKTOP-HTU2IVD",[[1,4292,"  "],[1,4311,"  "],[1,4312,"  "],[1,4336,"  "],[1,4337,"  "],[1,4358," "],[1,4360," "],[1,4361,"  "],[1,4412,"  "],[1,4413,"  "],[1,4433,"  "],[1,4434," "],[1,4436," "],[1,4467,"  "],[1,4468,"  "],[1,4481," "],[1,4483," "],[1,4484,"  "],[1,4525,"  "],[1,4530,"  "],[1,4547,"  "],[1,4548,"  "],[1,4584,"  "],[1,4585,"  "]],[4290,4618],[4290,4660]]],[1587114182957,["Wahaha@DESKTOP-HTU2IVD",[[1,4320,"    "]],[4320,4320],[4324,4324]]],[1587114244420,[null,[[-1,5100,"Y"]],[5100,5100],[5100,5100]]],[1587114244420,[null,[[1,5100,"Y"]],[5100,5100],[5100,5100]]],[1587114186747,["Wahaha@DESKTOP-HTU2IVD",[[1,4381,"      "]],[4381,4381],[4387,4387]]],[1587114188958,["Wahaha@DESKTOP-HTU2IVD",[[1,4468,"      "]],[4467,4467],[4473,4473]]],[1587114196584,["Wahaha@DESKTOP-HTU2IVD",[[1,4532,"      "]],[4532,4532],[4538,4538]]],[1587114199781,["Wahaha@DESKTOP-HTU2IVD",[[1,4610,"      "]],[4610,4610],[4616,4616]]],[1587114202584,["Wahaha@DESKTOP-HTU2IVD",[[1,4657,"      "]],[4655,4655],[4661,4661]]],[1587114207089,["Wahaha@DESKTOP-HTU2IVD",[[-1,4538,"1."]],[4538,4540],[4538,4538]]],[1587114224925,["Wahaha@DESKTOP-HTU2IVD",[[-1,4723,"https://blog.csdn.net/u014458048/article/details/56678698"]],[4723,4780],[4723,4723]]],[1587114233245,["Wahaha@DESKTOP-HTU2IVD",[[1,4781,"三大范式"]],[4781,4781],[4785,4785]]],[1587114235104,["Wahaha@DESKTOP-HTU2IVD",[[-1,4781,"三大范式"]],[4785,4785],[4781,4781]]],[1587114240891,["Wahaha@DESKTOP-HTU2IVD",[[1,4723,"三大范式"]],[4723,4723],[4727,4727]]],[1587114298474,[null,[[-1,5075,"Y"]],[5075,5075],[5075,5075]]],[1587114298474,[null,[[1,5075,"Y"]],[5075,5075],[5075,5075]]],[1587114246493,["Wahaha@DESKTOP-HTU2IVD",[[1,4709,"1. "]],[4709,4709],[4712,4712]]],[1587114249810,["Wahaha@DESKTOP-HTU2IVD",[[1,4792,"- "]],[4792,4792],[4794,4794]]],[1587114252538,["Wahaha@DESKTOP-HTU2IVD",[[1,4858,"- "]],[4858,4858],[4860,4860]]],[1587114257484,["Wahaha@DESKTOP-HTU2IVD",[[1,5003,"- "]],[5003,5003],[5005,5005]]],[1587114264821,["Wahaha@DESKTOP-HTU2IVD",[[1,4792,"  "],[1,4805,"  "],[1,4806,"  "],[1,4857,"  "],[1,4858,"  "],[1,4878,"  "],[1,4879,"  "],[1,4904,"  "],[1,4905,"  "],[1,4971,"  "],[1,4972,"  "],[1,5002,"  "],[1,5003,"  "],[1,5026,"  "],[1,5027,"  "],[1,5051,"  "],[1,5052,"  "]],[4792,5078],[4792,5112]]],[1587114265627,["Wahaha@DESKTOP-HTU2IVD",[[1,4794,"  "],[1,4809,"  "],[1,4810,"  "],[1,4865,"  "],[1,4866," "],[1,4868," "],[1,4890,"  "],[1,4891," "],[1,4893," "],[1,4920,"  "],[1,4921," "],[1,4923," "],[1,4991,"  "],[1,4992,"  "],[1,5026,"  "],[1,5027,"  "],[1,5054,"  "],[1,5055,"  "],[1,5083,"  "],[1,5084,"  "]],[4792,5112],[4792,5146]]],[1587114267572,["Wahaha@DESKTOP-HTU2IVD",[[-1,4794,"  "],[-1,4811,"  "],[-1,4814,"  "],[-1,4871,"  "],[-1,4874," "],[-1,4877," "],[-1,4900,"  "],[-1,4903," "],[-1,4906," "],[-1,4934,"  "],[-1,4937," "],[-1,4940," "],[-1,5009,"  "],[-1,5012,"  "],[-1,5048,"  "],[-1,5051,"  "],[-1,5080,"  "],[-1,5083,"  "],[-1,5113,"  "],[-1,5116,"  "]],[4792,5146],[4792,5112]]]],null,"Wahaha@DESKTOP-HTU2IVD"],["d5b96f52-6dae-4e94-99ac-39812c179122",1587114383527,"Mysql\n\n## mysql压测\n### 库：\nhwc1.kluster.xyz\nhwc2.kluster.xyz\nhwc3.kluster.xyz\n\n用户名root密码1357924680\n\n\n\n### MysqlSlap测试\n[mysqlslap使用教程](https://my.oschina.net/moooofly/blog/152547)\n\n#### 测试流程\n1.  建立测试数据库database和待测试的表tables\n2.  根据table的结构，利用脚本生成一定数量的有效随机数据\n3.  利用mysqlslap对相应query语句进行测试\n4.  结果数据的分析\n\n\n### jmeter测试\n\n\n\n\n\n\n## mysql相关知识\n### MySql 日志\n\n[https://www.cnblogs.com/f-ck-need-u/p/9001061.html](https://www.cnblogs.com/f-ck-need-u/p/9001061.html#auto_id_2)\n\n  1. 查询日志\n  \n  查询日志分为一般查询日志和慢查询日志，通过查询变量long_query_time的值进行判断，在超时时间内完成的查询是一般查询，默认是关闭的（建议关闭）。\n  \n  general_log = {0|1} 开启或关闭查询日志\n  \n  general_log_file = file_name 指定文件查询日志路径 默认hostname.err\n  \n  log_output = {TABLE|FILE|NONE}   定义一般查询日志和慢查询日志的输出格式，不指定时默认为file\n  \n  2. 慢查询日志\n  \n  log_slow_queries = {yes|no}    #是否启用慢查询日志，默认不启用\n  \n  slow_query_log = {1|ON|0|OFF}   也是是否启用慢查询日志，此变量和log_slow_queries修改一个另一个同时变化\n  \n  slow_query_log_file=/mydata/data/hostname-slow.log  默认路径为库文件目录下主机名加上-slow.log\n  \n  3. 错误日志\n  \n  记录MeriaDB/mysql 服务启动和停止正确和错误的信息，还记录mysql实例运行过程中的发生错误的时间信息\n  \n  log_error = filename 指定错误日志保存文件 默认的错误文件日志datadir下面的hostname.err 文件\n  \n  4. 二进制日志\n  \n  记录引起或者可能引起数据库改变的事件信息。语句以事件形式保存，包括时间，事件开始位置，结束位置等信息\n  \n  --log-bin = [on|off|file_name] 启用二进制日志\n  \n  mysqlbinlog --start-datatime\"\" --stop-datatime 查看某一时间段的日志\n  \n  show binlog events 查看日志进行了那些操作\n  \n  reset master 删除二进制日志\n  \n  PURGE { BINARY | MASTER } LOGS { TO 'log_name' | BEFORE datetime_expr } 删除指定时间之前的日志\n  \n  二进制日志记录格式：\n  \n  binlog_format:指定那种形式记录\n  \n  statement 所有操作记录为sql形式记录，缺点动态数据无法同步\n  \n  row 相关行的每一列操作记录记录下去缺点日志文件较大\n  \n  mixed 记录日志有mysql决定\n  \n  5. 中继日志\n  \n  将主服务的二进制日志复制到到从服务器的本地文件中，然后sql线程读取relay-log日志到从服务器，从而使主服务器和从服务器保持一致\n\n### MySql事务\n1. 事务的四大特性：\n\n原子性: 事务内的操作要吗全部成功要么全部失败\n\n一致性: 事务操作前后，数据的完整性处于一致性状态\n\n持久性: 事务一旦提交，那么对数据库数据的修改就是永久的\n\n隔离性: 多个用户并发访问数据库时，其中一个事务的操作不会影响到另一个事务的操作。\n\n2. 事务隔离级别：\n\nserializable:串行化 避免脏读、幻读、不可重复读\n\nrepeatable read（mysql默认事务隔离级别）:可重复读 避免 脏读、 幻读\n\nread commited : 读已提交 避免 脏读\n\nread uncomnited: 读未提交 什么都避免不了\n\n事务并发处理可能会发生的问题：\n\n脏读：一个事务读取了另一个事务修改了但并未提交的数据\n\n不可重复读: 一个事务读取了另一个事务修改并提交的数据\n\n幻读: 一个事务两次读取的结果不同\n\n3. 事务传播特性：\n\n  * 保证同一个事务中\n \n  PROPAGATION_REQUIRED 支持当前事务，如果不存在 就新建一个(默认)\n  \n  PROPAGATION_SUPPORTS 支持当前事务，如果不存在，就不使用事务\n  \n  PROPAGATION_MANDATORY 支持当前事务，如果不存在，抛出异常\n  \n  * 保证没有在同一个事务中\n\n  PROPAGATION_REQUIRES_NEW 如果有事务存在，挂起当前事务，创建一个新的事务\n  \n  PROPAGATION_NOT_SUPPORTED 以非事务方式运行，如果有事务存在，挂起当前事务\n  \n  PROPAGATION_NEVER 以非事务方式运行，如果有事务存在，抛出异常\n  \n  PROPAGATION_NESTED 如果当前事务存在，则嵌套事务执行\n\n### Mysql索引\n\n1. mysql索引的4种类型\n\n逻辑索引:\n\n普通索引：\n\n基本数据库索引，没有任何限制\n\ncreate index indexname on mytable(username)\n\ndrop index indexname on mytable\n\n唯一索引:\n\n索引列的值必须为唯一，允许有null值，如果是组合索引，则列值的组合必须唯一\n\ncreate unique index index on mytble(username)\n\n主键索引：\n\n特殊索引，一个表只能有一个主键，不允许有null值，一般建表时创建\n\n组合索引：\n\ncreate index a_b_c on mytable(a,b,c)\n\n减少开销: 假如对a、b、c创建组合索引，相当于创建了a,b,c3个索引\n\n覆盖索引: 假设select a ,b ,c 3个字段，由于查询字段在索引页中，可以从索引页中直接获取，不需要回表查询\n\n效率高: 对于a,b,c三列分别创建索引，mysql进行查询时只会选择辨识度高的作为索引。假设100w条数据，一个索引100*10%=10w的数据，组合索引100*10%*10%*10%=0.1 1000条数据\n\n物理索引:\n\n聚集索引:\n\n该索引中键值的逻辑顺序决定表中相应行的物理顺序，由于聚集索引规定数据在表中的物理存储顺序，因此一个表只能包含一个聚集索引，对经常搜索的范围列比较有效\n\n创建聚集索引：mysql中默认主键就是聚集索引\n\n聚集索引结构：索引的叶子节点就相当于数据节点\n\n![聚集索引](F:\\Note\\qqCF470C119BD3A5BA535BEC5DEC86B157\\5fae393f17cb4ed4bfbfeb05494e2971\\clipboard.png)\n\n非聚集索引：\n\n非聚集索引则就是普通索引了，仅仅只是对数据列创建相应的索引，不影响整个表的物理存储顺序。\n\n非聚集索引的叶子节点的还是索引节点\n\n![非聚集索引](F:\\Note\\qqCF470C119BD3A5BA535BEC5DEC86B157\\e2b25717c37647459b7857a1cb10266c\\clipboard.png)\n\n2. 索引的优缺点及使用场景:\n\n  + 索引的创建:\n\n    - 建在经常查询的列上，提高查询速度\n    \n    - 建在主键列上 强制该列的唯一性和组织表中数据的排列结构\n    \n    - 建在外键列上，提高连接查询速度\n    \n    - 建在查询范围的列上(分组列)，建好索引后默认排好序(升序)，指定范围是连续的\n    \n    -  排序列\n    \n    - 条件列\n\n  + 索引的优点：\n\n    - 通过创建唯一索引，保证数据库表每一行数据的唯一性\n  \n    - 大大加快数据的检索效率\n    \n    - 加速表与表之间的连接\n    \n    - 分组排序列进行检索是时，显著减少检索时间\n    \n    - 通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。\n\n  + 索引的缺点：\n\n    - 创建索引和维护索引需要时间，这种时间随数据量增加而增加\n    \n    - 索引占用物理空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果要建立聚集索引那么需要的空间就会更大。\n    \n    - 对数据表数据进行增删改时，索引需要动态维护，降低动态维护数据的速度\n\n### MySql数据库引擎\n\n[https://www.jb51.net/article/38004.htm](https://www.jb51.net/article/38004.htm)\n\n1. 数据库引擎类型：\n\n    - MyISAM: 不支持事务和行级锁。所以查询速度很快，性能优秀。可以对整张表加锁，支持并发插入，支持全文索引\n    \n    - InnoDB: 支持事务，行级锁，以及外键，拥有高并发处理能力。但是在创建索引和加载数据时，比MyISAM慢。(MySql默认数据库引擎)\n    \n    - MEMORY:支持Hash索引，内存表，Memory引擎将数据存储在内存中，表结构不是存储在内存中的，查询时不需要执行磁盘I/O操作，所以要比MyISAM和InnoDB快很多倍，但是数据库断电或是重启后，表中的数据将会丢失，表结构不会丢失。\n\n2. 查看数据库支持的引擎:\n\n    - 查看mysql已提供哪些引擎\n    \n        mysql> show engines\n    \n    - 看你的mysql当前默认的引擎:\n    \n          mysql> show variables like '%storage_engines%'\n    \n    - 你要看某个表用了什么引擎:\n    \n          mysql> show create table 表名;\n    \n    - 切换数据库引擎:\n    \n          create table table{} engine = innodb\n    \n    - 2.修改my.ini文件\n    \n          default-storage-engine = innodb\n    \n          alert tablename engine = innodb\n\n### 数据库表设计原则:\n\n1. 数据库表设计三大范式:\n\n[三大范式](https://blog.csdn.net/u014458048/article/details/56678698)\n\n  - 第一范式:列不可再分\n  \n  所用表的字段都是不可再分，例如字段属性‘地址’，如果经常访问的话就需要拆成‘省’，‘城市’，‘县’。\n  \n  - 第二范式:每列和主键相关 主键关系\n  \n  确保数据库中的每一列都和主键相关而不是一部分相关\n  \n  例如：商品表 订单表 订单表中包含有商品数据，这样设计不符合第二范式，需要再加一个联合主键表 商品_订单表 多对多关系 需要三张表\n  \n  一个表只保存一种类型的数据，不可以把多种数据保存到一张表中\n  \n  - 第三范式:每列和主键有直接关系 外键关系\n  \n  确保数据库表每一列与主键直接相关而不是间接相关\n  \n  例如：用户 订单 订单表加外键对应用户 一对多关系\n\n\n\n\n\n\n",[[1587114344061,["Wahaha@DESKTOP-HTU2IVD",[[-1,0,"Mysql"]],[0,5],[0,0]]],[1587114347829,["Wahaha@DESKTOP-HTU2IVD",[[1,0,"Mysql"]],[0,0],[5,5]]],[1587114351208,["Wahaha@DESKTOP-HTU2IVD",[[1,18,"\n"]],[17,17],[18,18]]],[1587114355721,["Wahaha@DESKTOP-HTU2IVD",[[1,0,"# "]],[0,0],[2,2]]]],null,"Wahaha@DESKTOP-HTU2IVD"]]}